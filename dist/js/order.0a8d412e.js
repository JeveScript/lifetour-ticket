(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order"],{"0a49":function(e,t,r){var a=r("9b43"),s=r("626a"),n=r("4bf8"),i=r("9def"),o=r("cd1c");e.exports=function(e,t){var r=1==e,l=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d,f=t||o;return function(t,o,m){for(var b,_,g=n(t),v=s(g),h=a(o,m,3),x=i(v.length),y=0,I=r?f(t,x):l?f(t,0):void 0;x>y;y++)if((p||y in v)&&(b=v[y],_=h(b,y,g),e))if(r)I[y]=_;else if(_)switch(e){case 3:return!0;case 5:return b;case 6:return y;case 2:I.push(b)}else if(u)return!1;return d?-1:c||u?u:I}}},1169:function(e,t,r){var a=r("2d95");e.exports=Array.isArray||function(e){return"Array"==a(e)}},3813:function(e,t,r){"use strict";var a=r("9d94"),s=r("8088"),n={list:function(e){return a["a"].get(s["a"].order,e)},show:function(e){return a["a"].get(s["a"].orderItem(e))},expressSearch:function(e){return a["a"].get(s["a"].expressSearch,e)},expressUpdate:function(e,t){return a["a"].put(s["a"].orderExpress(e),t)}};t["a"]=n},"574e":function(e,t,r){"use strict";var a=r("e8f6"),s=r.n(a);s.a},7514:function(e,t,r){"use strict";var a=r("5ca1"),s=r("0a49")(5),n="find",i=!0;n in[]&&Array(1)[n]((function(){i=!1})),a(a.P+a.F*i,"Array",{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(n)},"89af":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-container"},[r("v-breadcrumb"),r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-content"},[r("el-form",{ref:"userForm",staticStyle:{width:"560px"},attrs:{model:e.formData,rules:e.rules,"label-position":"left","label-width":"160px"}},[r("h3",[e._v("卡券信息")]),r("el-form-item",{attrs:{label:"卡券编号"}},[e._v("\n        1231231233\n      ")]),r("el-form-item",{attrs:{label:"创建时间"}},[e._v("\n        2019-05-22 14:20\n      ")]),r("el-form-item",{attrs:{label:"状态"}},[r("el-select",{model:{value:e.formData.status,callback:function(t){e.$set(e.formData,"status",t)},expression:"formData.status"}},[r("el-option",{attrs:{label:"待处理",value:0}}),r("el-option",{attrs:{label:"已发货",value:1}}),r("el-option",{attrs:{label:"已完成",value:2}}),r("el-option",{attrs:{label:"退换中",value:3}})],1)],1),r("h3",[e._v("物流信息")]),r("el-form-item",{attrs:{label:"收件人姓名"}},[e._v("\n        杨十一\n      ")]),r("el-form-item",{attrs:{label:"收件人手机号"}},[e._v("\n        17611181930\n      ")]),r("el-form-item",{attrs:{label:"收件人地址"}},[e._v("\n        北京市朝阳区通惠河北路 10 号大望路电影产业园 1-15\n      ")]),r("el-form-item",{attrs:{label:"快递单号"}},[r("el-input",{attrs:{placeholder:"请输入快递单号"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")])],1)],1)],1)],1)},s=[],n=r("a14e"),i={data:function(){return{loading:!1,rules:{status:[{required:!0,message:"请输入状态",trigger:"blur"}],express:[{required:!0,message:"请输入物流编号",trigger:"blur"}]},formData:{status:0,express:""}}},methods:{handleSubmit:function(){}},components:{"v-breadcrumb":n["a"]}},o=i,l=(r("574e"),r("2877")),c=Object(l["a"])(o,a,s,!1,null,null,null);t["default"]=c.exports},"8f20":function(e,t,r){},a14e:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.breadcrumbValue.length||e.title||e.description?r("div",{staticClass:"breadcrumb-section"},[e.breadcrumbValue.length?r("el-breadcrumb",{staticClass:"breadcrumb-list"},[e._l(e.breadcrumbValue,(function(t){return[t.to?r("el-breadcrumb-item",{key:t.name,attrs:{replace:!0,to:t.to}},[e._v(e._s(t.name))]):r("el-breadcrumb-item",{key:t.name},[e._v(e._s(t.name))])]}))],2):e._e(),e.title?r("div",{staticClass:"breadcrumb-title"},[e._v(e._s(e.title))]):e._e(),e.description?r("div",{staticClass:"breadcrumb-description"},[e._v("\n    "+e._s(e.description)+"\n  ")]):e._e()],1):e._e()},s=[],n=(r("7f7f"),r("a481"),{props:{breadcrumb:{type:Array,default:function(){return[]}},title:{type:String,default:""},description:{type:String,default:""}},computed:{breadcrumbValue:function(){var e=this.breadcrumb;return e.length?e:this.$route.matched.filter((function(e){return e.meta&&e.meta.breadcrumb})).map((function(e){return{name:e.meta.breadcrumb.title,to:e.meta.breadcrumb.replace?{name:e.name}:void 0}}))}}}),i=n,o=(r("c895"),r("2877")),l=Object(o["a"])(i,a,s,!1,null,null,null);t["a"]=l.exports},a64c:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-container"},[r("v-breadcrumb"),r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-content"},[r("div",{staticClass:"mb-20"},[r("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",plain:""},on:{click:e.handleDialogShow}},[e._v(e._s(e.orderInfo.express_number?"修改快递单号":"发货"))])],1),r("h3",{staticClass:"sub-title"},[e._v("商品信息")]),r("div",{staticClass:"page-info"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:16}},[e._v("商品名称："+e._s(e.goodsInfo.name)+" ")])],1)],1),r("h3",{staticClass:"sub-title"},[e._v("订单信息")]),r("div",{staticClass:"page-info"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[e._v("卡券编号："+e._s(e.orderInfo.findex)+" ")]),r("el-col",{attrs:{span:8}},[e._v("创建时间："+e._s(e.orderInfo.created_at))]),r("el-col",{attrs:{span:8}},[e._v("订单状态："+e._s(e.orderInfo.express_number?"已发货":"未发货")+"\n        ")])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[e._v("\n          快递公司："+e._s(e.orderInfo.express_company||"未发货")+"\n        ")]),r("el-col",{attrs:{span:8}},[e._v("\n          快递编号："+e._s(e.orderInfo.express_number||"未发货")+"\n        ")]),r("el-col",{attrs:{span:8}},[e._v("兑换人电话："+e._s(e.orderInfo.user_phone))])],1)],1),r("el-divider"),r("h3",{staticClass:"sub-title"},[e._v("收件人信息")]),r("div",{staticClass:"page-info"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[e._v(" 姓名："+e._s(e.orderInfo.address_name)+" ")]),r("el-col",{attrs:{span:8}},[e._v(" 电话："+e._s(e.orderInfo.address_phone)+" ")])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[e._v(" 地址："+e._s(e.orderInfo.address_detail)+" ")])],1)],1),r("el-divider"),r("h3",{staticClass:"sub-title"},[e._v("物流信息")]),e.expressLog.length?e._e():r("div",{staticStyle:{color:"#999","font-size":"12px"}},[e._v("\n      暂无物流信息\n    ")]),r("el-timeline",e._l(e.expressLog,(function(t,a){return r("el-timeline-item",{key:a,attrs:{type:"primary",timestamp:t.AcceptTime}},[e._v("\n        "+e._s(t.AcceptStation)+"\n      ")])})),1)],1),r("el-dialog",{attrs:{title:"修改快递单号",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{attrs:{"label-position":"right",inline:"","label-width":"120px"}},[r("el-form-item",{attrs:{label:"快递公司："}},[r("el-select",{attrs:{placeholder:"请选择快递公司"},model:{value:e.expressForm.express_code,callback:function(t){e.$set(e.expressForm,"express_code",t)},expression:"expressForm.express_code"}},e._l(e.expressCompany,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"快递单号："}},[r("el-input",{attrs:{placeholder:"请输入快递单号"},model:{value:e.expressForm.express_number,callback:function(t){e.$set(e.expressForm,"express_number",t)},expression:"expressForm.express_number"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateExpress}},[e._v("确 定")])],1)],1)],1)},s=[],n=(r("7f7f"),r("7514"),r("a14e")),i=r("3813"),o={data:function(){return{loading:!1,dialogVisible:!1,orderInfo:{address_detail:"",address_name:"",address_phone:"",created_at:"",express_code:"",express_company:"",express_number:"",findex:"",id:1},goodsInfo:{},expressLog:[],expressForm:{express_code:"",express_number:""},expressCompany:[{id:"DBL",name:"德邦快递"},{id:"STO",name:"申通快递"},{id:"ZTO",name:"中通快递"},{id:"YD",name:"韵达速递"}]}},created:function(){this.getData()},methods:{getData:function(){var e=this,t=this.$route.params.id;i["a"].show(t).then((function(t){e.orderInfo=t,e.goodsInfo=t.goods,t.express_number&&t.express_code&&e.getExpressWay(t.express_number,t.express_code)}))},getExpressWay:function(e,t){var r=this;i["a"].expressSearch({express_number:e,express_code:t}).then((function(e){var t=e["Traces"].reverse();r.expressLog=t}))},handleDialogShow:function(){this.dialogVisible=!0,this.expressForm.express_code=this.orderInfo.express_code,this.expressForm.express_number=this.orderInfo.express_number},handleUpdateExpress:function(){var e=this,t=this.$route.params.id,r=this.expressForm.express_code,a=this.expressForm.express_number,s=this.expressCompany.find((function(e){return e.id===r}));if(s&&(s=s.name),r&&a){this.loading=!0,this.dialogVisible=!1;var n=this.orderInfo.findex,o=this.orderInfo.user_phone;i["a"].expressUpdate(t,{express_code:r,express_number:a,express_company:s,user_phone:o,findex:n}).then((function(){e.orderInfo.express_code=r,e.orderInfo.express_number=a,e.orderInfo.express_company=s,e.$message.success("快递单号更新成功,短信通知已发送"),e.getExpressWay(a,r)})).catch((function(){e.$message.error("快递单号更新失败，请联系技术人员检查")})).finally((function(){e.loading=!1}))}else this.$message.error("请选择快递公司并填写快递单号")}},components:{"v-breadcrumb":n["a"]}},l=o,c=(r("b84e"),r("2877")),u=Object(c["a"])(l,a,s,!1,null,null,null);t["default"]=u.exports},aa77:function(e,t,r){var a=r("5ca1"),s=r("be13"),n=r("79e5"),i=r("fdef"),o="["+i+"]",l="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(e,t,r){var s={},o=n((function(){return!!i[e]()||l[e]()!=l})),c=s[e]=o?t(p):i[e];r&&(s[r]=c),a(a.P+a.F*o,"String",s)},p=d.trim=function(e,t){return e=String(s(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},b84e:function(e,t,r){"use strict";var a=r("da3b"),s=r.n(a);s.a},c5f6:function(e,t,r){"use strict";var a=r("7726"),s=r("69a8"),n=r("2d95"),i=r("5dbc"),o=r("6a99"),l=r("79e5"),c=r("9093").f,u=r("11e9").f,d=r("86cc").f,p=r("aa77").trim,f="Number",m=a[f],b=m,_=m.prototype,g=n(r("2aeb")(_))==f,v="trim"in String.prototype,h=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():p(t,3);var r,a,s,n=t.charCodeAt(0);if(43===n||45===n){if(r=t.charCodeAt(2),88===r||120===r)return NaN}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:a=2,s=49;break;case 79:case 111:a=8,s=55;break;default:return+t}for(var i,l=t.slice(2),c=0,u=l.length;c<u;c++)if(i=l.charCodeAt(c),i<48||i>s)return NaN;return parseInt(l,a)}}return+t};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof m&&(g?l((function(){_.valueOf.call(r)})):n(r)!=f)?i(new b(h(t)),r,m):h(t)};for(var x,y=r("9e1e")?c(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;y.length>I;I++)s(b,x=y[I])&&!s(m,x)&&d(m,x,u(b,x));m.prototype=_,_.constructor=m,r("2aba")(a,f,m)}},c895:function(e,t,r){"use strict";var a=r("8f20"),s=r.n(a);s.a},cd1c:function(e,t,r){var a=r("e853");e.exports=function(e,t){return new(a(e))(t)}},da3b:function(e,t,r){},e853:function(e,t,r){var a=r("d3f4"),s=r("1169"),n=r("2b4c")("species");e.exports=function(e){var t;return s(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!s(t.prototype)||(t=void 0),a(t)&&(t=t[n],null===t&&(t=void 0))),void 0===t?Array:t}},e8f6:function(e,t,r){},f99b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-container"},[r("v-breadcrumb"),r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-content"},[r("div",[r("el-form",{attrs:{inline:"","label-width":"100px"}},[r("el-form-item",{attrs:{label:"时间："}},[r("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),e._e(),r("el-form-item",{attrs:{label:"卡券号码"}},[r("el-input",{attrs:{placeholder:"请输入卡券号码"},model:{value:e.form.findex,callback:function(t){e.$set(e.form,"findex",t)},expression:"form.findex"}})],1),r("br"),r("el-form-item",{attrs:{label:"收件人姓名"}},[r("el-input",{attrs:{placeholder:"请输入收件人姓名"},model:{value:e.form.address_name,callback:function(t){e.$set(e.form,"address_name",t)},expression:"form.address_name"}})],1),r("el-form-item",{attrs:{label:"收件人手机号"}},[r("el-input",{attrs:{placeholder:"请输入收件人手机号"},model:{value:e.form.address_phone,callback:function(t){e.$set(e.form,"address_phone",t)},expression:"form.address_phone"}})],1),r("el-form-item",{attrs:{label:"发货情况："}},[r("el-select",{model:{value:e.form.express_status,callback:function(t){e.$set(e.form,"express_status",t)},expression:"form.express_status"}},[r("el-option",{attrs:{label:"未发货",value:0}}),r("el-option",{attrs:{label:"已发货",value:1}})],1)],1),r("div",[r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.getData}},[e._v("查询")]),r("el-button",{on:{click:e.handleReset}},[e._v("重置")])],1)],1)],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[r("el-table-column",{attrs:{prop:"created_at",label:"兑换时间"}}),r("el-table-column",{attrs:{prop:"findex",label:"卡券号码"}}),r("el-table-column",{attrs:{prop:"address_name",label:"收件人"}}),r("el-table-column",{attrs:{prop:"address_phone",label:"联系方式"}}),r("el-table-column",{attrs:{prop:"express_number",label:"快递单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.express_number?r("span",[e._v(e._s(t.row.express_number))]):r("el-tag",{attrs:{type:"danger"}},[e._v("未发货")])]}}])}),e._e(),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.handleShowOrder(t.row)}}},[e._v("查看详情")])]}}])})],1),r("div",[e.pagination.total>e.pagination.pageSize?r("el-pagination",{staticStyle:{"margin-top":"16px"},attrs:{background:"",layout:"prev, pager, next","current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,total:e.pagination.total},on:{"update:currentPage":function(t){return e.$set(e.pagination,"currentPage",t)},"update:current-page":function(t){return e.$set(e.pagination,"currentPage",t)},"current-change":e.getData}}):e._e()],1)],1)],1)},s=[],n=(r("c5f6"),r("a14e")),i=r("3813"),o={data:function(){return{loading:!0,form:{address_name:"",address_phone:"",express_number:"",express_status:"",findex:"",status:"",date:[]},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-6048e5),e.$emit("pick",[r,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-2592e6),e.$emit("pick",[r,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-7776e6),e.$emit("pick",[r,t])}}]},tableData:[],pagination:{currentPage:1,pageSize:10,total:0}}},created:function(){this.getData()},methods:{getData:function(){var e=this,t={current_page:this.pagination.currentPage,page_size:this.pagination.pageSize,address_name:this.form.address_name,address_phone:this.form.address_phone,express_number:this.form.express_number,express_status:this.form.express_status,status:this.form.status,findex:this.form.findex},r=this.form.date;r.length&&(t.start_at=r[0],t.end_at=r[1]),this.loading=!0,i["a"].list(t).then((function(t){e.tableData=t.datas,e.pagination.pageSize=Number(t.pagination.page_size),e.pagination.currentPage=Number(t.pagination.current_page),e.pagination.total=Number(t.pagination.total)})).finally((function(){e.loading=!1}))},handleReset:function(){this.form.express_status="",this.form.address_name="",this.form.address_phone="",this.form.express_number="",this.form.findex="",this.form.status="",this.form.date=[],this.pagination.currentPage=1,this.getData()},statusDisplay:function(e){var t=["未消核","已消核"];return t[e]},handleShowOrder:function(e){var t=e.id;this.$router.push({name:"OrderManageItem",params:{id:t}})}},components:{"v-breadcrumb":n["a"]}},l=o,c=r("2877"),u=Object(c["a"])(l,a,s,!1,null,null,null);t["default"]=u.exports},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=order.0a8d412e.js.map